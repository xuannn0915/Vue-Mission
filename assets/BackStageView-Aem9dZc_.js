import{_ as p,r as u,o as h,c as m,a as s,b as c,w as a,d as t,j as k,k as f,g as x,F as $}from"./index-lCZ1nyxc.js";var g={VITE_PATH:"xuan02",VITE_URL:"https://vue3-course-api.hexschool.io",BASE_URL:"/Vue-Mission/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:V}=g,v={data(){return{checkSuccess:!1}},methods:{checkUser(){const o=document.cookie.replace(/(?:(?:^|.*;\s*)xuanToken\s*=\s*([^;]*).*$)|^.*$/,"$1");if(o){this.$http.defaults.headers.common.Authorization=`${o}`;const e=`${V}/v2/api/user/check`;this.$http.post(e,{api_token:this.token}).then(()=>{this.checkSuccess=!0}).catch(r=>{alert(r.response.data.message),this.$router.push("/login")})}else alert("您尚未登入。"),this.$router.push("/login")},signout(){document.cookie="xuanToken=;expires=;",alert("token 已清除"),this.$router.push("/home")}},mounted(){this.checkUser()}},E=s("h1",{class:"text-center mb-4"},"這是後台頁面",-1),S={class:"d-flex align-items-center justify-content-center"},T=s("a",{href:"#",class:"btn btn-outline-secondary"}," 回前台 ",-1);function w(o,e,r,B,l,i){const n=u("router-link"),d=u("router-view");return h(),m($,null,[E,s("nav",S,[c(n,{to:"/admin/product",class:"px-3"},{default:a(()=>[t("後台產品列表")]),_:1}),t("| "),c(n,{to:"/admin/order",class:"px-3"},{default:a(()=>[t("後台訂單")]),_:1}),t("| "),s("a",{href:"#",class:"px-3",onClick:e[0]||(e[0]=k((..._)=>i.signout&&i.signout(..._),["prevent"]))},"登出"),c(n,{to:"/home"},{default:a(()=>[T]),_:1})]),l.checkSuccess?(h(),f(d,{key:0})):x("",!0)],64)}const U=p(v,[["render",w]]);export{U as default};
